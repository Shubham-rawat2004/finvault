{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "java -jar target/bank-management-0.0.1-SNAPSHOT.jar",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "services": [
    {
      "name": "bank-management-app",
      "source": {
        "type": "local"
      },
      "env": {
        "SPRING_PROFILES_ACTIVE": "production"
      }
    },
    {
      "name": "mysql-database",
      "image": "mysql:8.0",
      "env": {
        "MYSQL_ROOT_PASSWORD": "Shub@2004",
        "MYSQL_DATABASE": "bankdb"
      },
      "ports": [
        {
          "port": 3306,
          "protocol": "TCP"
        }
      ]
    }
  ]
}
